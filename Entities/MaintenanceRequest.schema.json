{
    "name": "MaintenanceRequest",
    "type": "object",
    "properties": {
      "title": {
        "type": "string",
        "description": "Request title"
      },
      "description": {
        "type": "string",
        "description": "Detailed description of the issue"
      },
      "location": {
        "type": "string",
        "description": "Location of the issue in building"
      },
      "priority": {
        "type": "string",
        "enum": [
          "low",
          "medium",
          "high",
          "urgent"
        ],
        "default": "medium",
        "description": "Priority level"
      },
      "status": {
        "type": "string",
        "enum": [
          "open",
          "in_progress",
          "resolved"
        ],
        "default": "open",
        "description": "Request status"
      },
      "image_url": {
        "type": "string",
        "description": "Optional image of the issue"
      },
      "assigned_to": {
        "type": "string",
        "description": "Professional service assigned to handle"
      },
      "admin_notes": {
        "type": "string",
        "description": "Admin notes and updates"
      }
    },
    "required": [
      "title",
      "description"
    ],
    "rls": {
      "read": {
        "$or": [
          {
            "created_by": "{{user.email}}"
          },
          {
            "user_condition": {
              "role": "admin"
            }
          }
        ]
      },
      "write": {
        "$or": [
          {
            "created_by": "{{user.email}}"
          },
          {
            "user_condition": {
              "role": "admin"
            }
          }
        ]
      }
    }
  }